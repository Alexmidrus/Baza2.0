{% extends "base.html" %}
{% block title %}Жемчужина — бронирование{% endblock %}

{% block body %}
<header class="sticky top-0 z-50 bg-white/85 backdrop-blur border-b border-gray-200">
  <div class="mx-auto max-w-6xl px-4">
    <div class="flex h-16 items-center justify-between gap-3">
      <a href="#" class="flex items-center gap-2">
        <div class="h-9 w-9 rounded-xl bg-brand-50 border border-gray-200 grid place-items-center">
          <span class="font-display font-extrabold text-brand-600">Ж</span>
        </div>
        <div class="leading-tight">
          <div class="font-display font-extrabold">Жемчужина</div>
          <div class="text-xs text-slate-600 -mt-0.5">база отдыха</div>
        </div>
      </a>

      <nav class="hidden lg:flex items-center gap-6 text-[13px] font-semibold tracking-wide text-slate-800 font-nav">
        <a href="#stay" class="hover:text-slate-950">Проживание</a>
        <a href="#day" class="hover:text-slate-950">Беседки</a>
        <a href="#activities" class="hover:text-slate-950">Активности</a>
        <a href="#gallery" class="hover:text-slate-950">Фото</a>
        <a href="#faq" class="hover:text-slate-950">FAQ</a>
        <a href="#contacts" class="hover:text-slate-950">Контакты</a>
      </nav>

      <div class="flex items-center gap-2">
        <a href="#booking" class="hidden sm:inline-flex items-center justify-center rounded-xl bg-brand-500 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-600">
          Забронировать
        </a>
        <a href="{{ url_for('admin_login') }}" class="h-10 rounded-xl border border-gray-200 bg-white px-4 text-sm font-semibold hover:bg-slate-50">
          Админ
        </a>
      </div>
    </div>
  </div>
</header>

<section class="mx-auto max-w-6xl px-4 pt-6 sm:pt-8 pb-8 sm:pb-10">
  <div class="grid lg:grid-cols-12 gap-5 items-stretch">
    <div class="lg:col-span-7 rounded-3xl overflow-hidden border border-gray-200 bg-white shadow-soft">
      <div class="relative h-64 sm:h-80 lg:h-[420px]">
        <div class="absolute inset-0 ph"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-slate-900/55 via-slate-900/10 to-transparent"></div>
        <div class="absolute bottom-5 left-5 right-5">
          <div class="inline-flex items-center gap-2 rounded-full bg-white/90 px-3 py-1 text-xs text-slate-700">
            <span class="h-2 w-2 rounded-full bg-brand-500"></span>
            Новотроицкое водохранилище • бронирование онлайн
          </div>
          <h1 class="mt-3 font-display text-3xl sm:text-4xl font-extrabold text-white tracking-tight">
            Минималистичный сервис бронирования отдыха
          </h1>
          <p class="mt-2 text-white/90 max-w-xl">
            Домики, беседки, активности — выбирайте формат, даты и гостей за пару минут.
          </p>
        </div>
      </div>
    </div>

    <div id="booking" class="lg:col-span-5 rounded-3xl border border-gray-200 bg-white shadow-soft p-5 sm:p-6">
      <h2 class="font-display text-xl font-extrabold">Быстрое бронирование</h2>
      <p class="text-sm text-slate-600 mt-1">Оставьте заявку — подтвердим доступность.</p>
      <form class="mt-5 grid gap-3">
        <div class="grid sm:grid-cols-2 gap-3">
          <label class="grid gap-1">
            <span class="text-xs font-semibold text-slate-800">Заезд</span>
            <input type="date" class="h-11 rounded-xl border border-gray-200 px-3 outline-none focus:ring-4 focus:ring-brand-50 focus:border-brand-500">
          </label>
          <label class="grid gap-1">
            <span class="text-xs font-semibold text-slate-800">Выезд</span>
            <input type="date" class="h-11 rounded-xl border border-gray-200 px-3 outline-none focus:ring-4 focus:ring-brand-50 focus:border-brand-500">
          </label>
        </div>
        <label class="grid gap-1">
          <span class="text-xs font-semibold text-slate-800">Телефон</span>
          <input type="tel" placeholder="+7 (___) ___-__-__"
            class="h-11 rounded-xl border border-gray-200 px-3 outline-none focus:ring-4 focus:ring-brand-50 focus:border-brand-500">
        </label>
        <button type="button" class="mt-1 h-12 rounded-xl bg-brand-500 text-white font-semibold hover:bg-brand-600">
          Проверить доступность
        </button>
      </form>
    </div>
  </div>
</section>

<!-- Проживание (упрощённая витрина из JSON; при желании перенесём вашу карусель+фильтры сюда) -->
<section id="stay" class="mx-auto max-w-6xl px-4 py-10">
  <h2 class="font-display text-2xl font-extrabold">Проживание</h2>
  <p class="text-slate-600 mt-1">Актуальные карточки из админ-панели.</p>

  <div class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
    {% for h in houses %}
      {% if h.status == "active" %}
      <article class="rounded-3xl border border-gray-200 bg-white overflow-hidden shadow-soft">
        {% if h.image and h.image != "placeholder" %}
          <img src="{{ h.image }}" class="h-40 w-full object-cover" alt="{{ h.name }}">
        {% else %}
          <div class="h-40 ph"></div>
        {% endif %}
        <div class="p-5">
          <div class="flex items-start justify-between gap-3">
            <h3 class="font-display font-extrabold">{{ h.name }}</h3>
            <div class="text-right">
              <div class="text-xs text-slate-500">от</div>
              <div class="font-semibold">{{ "{:,.0f}".format(h.price).replace(",", " ") }} ₽</div>
            </div>
          </div>
          <p class="mt-2 text-sm text-slate-600">
            {{ h.beds }} мест • WC: {{ "да" if h.wc else "нет" }} • кухня: {{ "да" if h.kitchen else "нет" }}
          </p>
          <div class="mt-4 flex gap-2">
            <a href="#booking" class="flex-1 h-11 rounded-xl bg-brand-500 text-white font-semibold grid place-items-center hover:bg-brand-600">Забронировать</a>
            <button class="h-11 rounded-xl border border-gray-200 px-4 text-sm font-semibold hover:bg-slate-50">Подробнее</button>
          </div>
        </div>
      </article>
      {% endif %}
    {% endfor %}
  </div>
</section>

<section id="day" class="mx-auto max-w-6xl px-4 py-10">
  <h2 class="font-display text-2xl font-extrabold">Беседки и отдых на день</h2>
  <p class="text-slate-600 mt-1">Актуальные карточки из админ-панели.</p>

  <div class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
    {% for g in gazebos %}
      {% if g.status == "active" %}
      <article class="rounded-3xl border border-gray-200 bg-white overflow-hidden shadow-soft">
        {% if g.image and g.image != "placeholder" %}
          <img src="{{ g.image }}" class="h-40 w-full object-cover" alt="{{ g.name }}">
        {% else %}
          <div class="h-40 ph"></div>
        {% endif %}
        <div class="p-5">
          <div class="flex items-start justify-between gap-3">
            <h3 class="font-display font-extrabold">{{ g.name }}</h3>
            <div class="text-right">
              <div class="text-xs text-slate-500">от</div>
              <div class="font-semibold">{{ "{:,.0f}".format(g.price).replace(",", " ") }} ₽</div>
            </div>
          </div>
          <p class="mt-2 text-sm text-slate-600">
            категория: {{ g.gazType }} • до {{ g.capacity }} гостей
          </p>
          <div class="mt-4 flex gap-2">
            <a href="#booking" class="flex-1 h-11 rounded-xl bg-brand-500 text-white font-semibold grid place-items-center hover:bg-brand-600">Забронировать</a>
            <button class="h-11 rounded-xl border border-gray-200 px-4 text-sm font-semibold hover:bg-slate-50">Подробнее</button>
          </div>
        </div>
      </article>
      {% endif %}
    {% endfor %}
  </div>
</section>

<section id="faq" class="mx-auto max-w-6xl px-4 py-10">
  <h2 class="font-display text-2xl font-extrabold">Вопросы и ответы</h2>
  <div class="mt-6 grid gap-3">
    <details class="rounded-2xl border border-gray-200 bg-white p-5">
      <summary class="cursor-pointer font-semibold">Как происходит бронирование?</summary>
      <p class="text-sm text-slate-600 mt-2">Оставляете заявку — подтверждаем доступность и условия.</p>
    </details>
    <details class="rounded-2xl border border-gray-200 bg-white p-5">
      <summary class="cursor-pointer font-semibold">Условия оплаты и отмены?</summary>
      <p class="text-sm text-slate-600 mt-2">Добавьте правила предоплаты и возврата.</p>
    </details>
  </div>
</section>

<section id="contacts" class="mx-auto max-w-6xl px-4 py-10">
  <div class="rounded-3xl border border-gray-200 bg-white shadow-soft overflow-hidden">
    <div class="grid lg:grid-cols-12">
      <div class="lg:col-span-7 p-6 sm:p-8">
        <h2 class="font-display text-2xl font-extrabold">Контакты</h2>
        <p class="text-slate-600 mt-2">Ставропольский край, Новотроицкое водохранилище</p>
      </div>
      <div class="lg:col-span-5 bg-slate-100 min-h-[260px] grid place-items-center text-slate-600">
        Карта (iframe)
      </div>
    </div>
  </div>
</section>

<footer class="border-t border-gray-200 bg-white">
  <div class="mx-auto max-w-6xl px-4 py-8 text-sm text-slate-600">
    © {{ 2026 }} База отдыха «Жемчужина».
  </div>
</footer>
{% endblock %}
